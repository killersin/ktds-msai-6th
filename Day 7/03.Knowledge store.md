# Azure AI 검색을 사용한 지식 저장소 (Knowledge Store) 

Azure AI 검색의 기술 세트가 생성한 AI 보강 콘텐츠를 Azure Storage에 저장하는 보조 스토리지 시스템입니다. 검색 인덱스와 별개로 운영되며, 분석, 보고, 다운스트림 처리 등 다양한 비검색 시나리오에서 활용할 수 있는 강력한 기능입니다.[1]

## 지식 저장소의 핵심 개념

기본 구조지식 저장소는 검색 파이프라인과 동일한 입력을 받지만, 전혀 다른 목적으로 사용됩니다. 검색 인덱스가 빠른 검색을 위해 최적화된 반면, 지식 저장소는 **분석과 다운스트림 처리**를 위해 설계되었습니다.[2][1]

물리적 저장소지식 저장소는 물리적으로 **Azure Storage**입니다. Azure Table Storage, Azure Blob Storage, 또는 둘 다를 사용할 수 있으며, Azure Storage에 연결할 수 있는 모든 도구나 프로세스에서 콘텐츠에 액세스할 수 있습니다.[1][3]

![image](./images/04.knowledge%20store.jpg)

## 지식 저장소의 주요 이점
유연한 접근성검색 인덱스는 Azure AI 검색의 쿼리를 통해서만 접근 가능한 반면, 지식 저장소는 **Azure Storage 연결을 지원하는 모든 도구**에서 접근할 수 있습니다. 이러한 유연성은 Power BI, Excel, 사용자 정의 애플리케이션 등 다양한 분석 도구와의 통합을 가능하게 합니다.[2][1]

데이터 형태 제어동일한 기술 세트를 사용하여 데이터를 보강하면서 동시에 **데이터의 형태를 제어**할 수 있습니다. Shaper 기술을 활용하여 Power BI용 테이블 구조나 데이터 과학 워크로드용 복잡한 JSON 구조 등 용도에 맞는 데이터 형태를 생성할 수 있습니다.[1]

## 프로젝션(Projections) 
유형지식 저장소의 핵심은 **프로젝션**입니다. 프로젝션은 AI 보강 콘텐츠가 Azure Storage에 저장되는 방식을 결정하는 구성 요소입니다.[3][4]

![images](./images/05.azure%20storage.jpg)

1. 테이블 프로젝션 (Table Projections)**저장소**: Azure Table Storage[3]
**용도**: 행과 열로 구성된 데이터, 세분화된 데이터 표현[3]

테이블 프로젝션은 **Power BI를 활용한 분석**이나 데이터 프레임을 사용하는 워크로드에 최적화되어 있습니다. 같은 그룹의 테이블들은 자동으로 관련성을 갖도록 설정됩니다.[4][3]

```json
"tables": [
  {
    "tableName": "ks-museums-main",
    "generatedKeyName": "ID",
    "source": "/document/tableprojection"
  }
]
```

2. 객체 프로젝션 (Object Projections)**저장소**: Azure Blob Storage[3]
**용도**: 완전한 JSON 표현, 애플리케이션 통합[3]

하나의 JSON 문서에서 데이터와 보강의 전체 표현이 필요할 때 사용합니다. 웹 서비스나 API와의 통합에 효과적입니다.[5][3]

```json
"objects": [
  {
    "storageContainer": "hotels",
    "source": "/document/objectprojection"
  }
]
```

3. 파일 프로젝션 (File Projections)**저장소**: Azure Blob Storage[3]
**용도**: 정규화된 바이너리 이미지 파일 저장[3]

문서에서 추출된 이미지들을 개별 파일로 저장할 때 사용합니다. 감사 추적, 법적 컴플라이언스, 히스토릭 기록 보관 등에 유용합니다.[5]

## 실제 구현 방법
1. 기본 구성지식 저장소는 기술 세트 내에서 정의되며, 다음 두 가지 주요 구성 요소를 포함합니다:[1]

```json
"knowledgeStore": {
  "storageConnectionString": "Default```pointsProtocol=https;AccountName```정명>;AccountKey=<계정키>;",```"projections": [
    {
      "tables": [],
      "objects": [],
      "files": []
    }
  ]
}
```

2. Azure Portal을 통한 설정Azure Portal의 "데이터 가져오기" 마법사를 통해 지식 저장소를 쉽게 생성할 수 있습니다.[6]마법사는 OCR, 텍스트 추출, 이미지 태깅 등의 기능을 자동으로 구성합니다.

3. Shaper 기술 활용프로젝션의 효과적인 구성을 위해 **Shaper 기술**을 활용합니다:[7]

```json
{
  "@odata.type": "#Microsoft.Skills```il.ShaperSkill",
  "name": "define-projection",
  "context": "/document",
  "inputs": [
    {
      "name": "HotelId",
      "source": "/document/HotelId"
    },
    {
      "name": "keyPhrases",
      "source": "/document/keyphrases/*"
    }
  ],
  "outputs": [
    {
      "name": "output",
      "targetName": "objectprojection"
    }
  ]
}
```

## 실무 활용 사례
1. 비즈니스 인텔리전스지식 저장소의 테이블 프로젝션을 Power BI와 연결하여 **대시보드와 리포트**를 생성할 수 있습니다. 추출된 핵심 구, 엔터티, 감정 분석 결과 등을 시각화하여 비즈니스 인사이트를 도출합니다.[8]

2. 데이터 파이프라인 통합객체 프로젝션으로 생성된 JSON 파일들을 **Azure Data Factory 파이프라인**에 통합하여 추가 처리하거나 데이터 웨어하우스로 로드할 수 있습니다.[7]

3. 콘텐츠 분석파일 프로젝션을 통해 추출된 이미지들을 별도로 분석하거나, 원본 문서의 시각적 요소를 보존하여 **컴플라이언스 요구사항**을 충족할 수 있습니다.[5]

## 개발 모범 사례
캐싱 활용프로젝션 개발 시 **보강 캐싱(미리 보기 기능)**을 활성화하면 프로젝션 정의를 편집하는 동안 기존 보강 결과를 재사용할 수 있어 비용과 시간을 절약할 수 있습니다.[4][9]

프로젝션 그룹 관리복잡한 시나리오에서는 여러 프로젝션 그룹을 생성하여 **테이블, 객체, 파일의 다양한 조합**을 만들 수 있습니다. 각 그룹은 독립적으로 관리되며 서로 다른 용도로 사용할 수 있습니다.[10][7]

스토리지 제한 고려Azure Table Storage의 제한사항을 고려해야 합니다:[4]
- 엔터티 크기: 최대 1MB
- 단일 속성: 최대 64KB

## 지식 저장소 모니터링 및 관리
Azure Portal에서 확인생성된 지식 저장소는 Azure Portal의 **Storage Browser**를 통해 확인할 수 있습니다. 각 프로젝션 유형별로 생성된 테이블, 컨테이너, 파일들을 직접 탐색하고 내용을 검토할 수 있습니다.[8][7]

명명 규칙`kstore` 접두사와 같은 명명 규칙을 채택하여 지식 저장소 관련 콘텐츠를 체계적으로 관리할 수 있습니다[1].

지식 저장소는 Azure AI 검색의 강력한 확장 기능으로, 단순한 검색을 넘어 **지식 마이닝과 비즈니스 인텔리전스**의 새로운 가능성을 열어줍니다. 적절한 설계와 구현을 통해 조직의 데이터 자산을 최대한 활용하여 의사결정에 필요한 인사이트를 도출할 수 있습니다.[11]

[1](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-concept-intro)
[2](https://docs.azure.cn/en-us/search/knowledge-store-concept-intro)
[3](https://learn.microsoft.com/en-us/azure/search/knowledge-store-projection-overview)
[4](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-projections-examples)
[5](https://www.youtube.com/watch?v=4ABLJ5H_dbw)
[6](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-create-portal)
[7](https://microsoftlearning.github.io/mslearn-knowledge-mining/Instructions/Exercises/03-knowledge-store.html)
[8](https://microsoftlearning.github.io/mslearn-ai-fundamentals.ko-kr/Instructions/Labs/11-ai-search.html)
[9](https://docs.azure.cn/en-us/search/knowledge-store-projections-examples)
[10](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-projection-overview)
[11](https://learn.microsoft.com/ko-kr/shows/ai-show/knowledge-mining-using-the-knowledge-store-feature-of-azure-search)
[12](https://learn.microsoft.com/en-us/azure/search/knowledge-store-projections-examples)
[13](https://winapp81.tistory.com/433)
[14](https://learn.microsoft.com/ko-kr/training/modules/create-knowledge-store-azure-cognitive-search/)
[15](https://www.youtube.com/watch?v=Ds9kQmWKRBU)
[16](https://learn.microsoft.com/ko-kr/azure/search/cognitive-search-concept-intro)
[17](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-projection-shape)
[18](https://microsoftlearning.github.io/AI-900-AIFundamentals.ko-KR/Instructions/05-create-cognitive-search-solution.html)
[19](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-projection-example-long)
[20](https://learn.microsoft.com/ko-kr/azure/search/search-what-is-azure-search)
[21](https://learn.microsoft.com/ko-kr/training/paths/implement-knowledge-mining-azure-cognitive-search/)
[22](https://docs.azure.cn/en-us/search/knowledge-store-projection-example-long)
[23](https://velog.io/@danv/Azure-%EA%B8%B0%EB%B3%B8-%EC%9A%A9%EC%96%B4%EC%99%80-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)
[24](https://azure.microsoft.com/ko-kr/products/ai-services/ai-search)
[25](https://www.reddit.com/r/dataengineering/comments/14mt29y/how_to_do_column_projection_filtering_serverside/)
[26](https://yororing-developer.tistory.com/130)
[27](https://www.palantir.com/docs/kr/foundry/building-pipelines/building-production-pipeline)
[28](https://iitp.kr/resources/file/201217/5.ICT%EB%94%94%EB%B0%94%EC%9D%B4%EC%8A%A4_%EC%96%91%EC%9E%90%EB%B3%B4%EA%B3%A0%EC%84%9C.pdf)
[29](https://learn.microsoft.com/ko-kr/azure/storage/tables/table-storage-design-patterns)
[30](https://www.earticle.net/Public/Articles/1/1327/2513?issue=72126)
[31](https://www.youtube.com/watch?v=UzTtastcBsk)
[32](https://stackoverflow.com/questions/58764834/how-efficient-can-azure-blob-table-service-can-be)
[33](https://www.linkedin.com/learning/azure-ai-engineer-associate-ai-102-cert-prep-implement-knowledge-mining-solutions-and-document-intelligence-so/manage-knowledge-store-projections)
[34](https://learn.microsoft.com/ko-kr/azure/storage/tables/storage-performance-checklist)
[35](https://www.packtpub.com/en-au/product/azure-ai-102-certification-essentials-9781836205272/chapter/chapter-7-implementing-knowledge-mining-document-intelligence-and-content-understanding-9/section/managing-knowledge-store-projections-ch09lvl1sec59)
[36](https://www.examtopics.com/discussions/microsoft/view/112664-exam-ai-102-topic-4-question-13-discussion/)
[37](https://aws.amazon.com/ko/blogs/tech/multi-rag-and-multi-region-llm-for-chatbot/)
[38](https://clickup.com/ko/blog/420186/ai-in-knowledge-management)
[39](https://microsoftlearning.github.io/mslearn-knowledge-mining/Instructions/Exercises/02-search-skills.html?azure-portal=true)
[40](https://learn.microsoft.com/ko-kr/azure/aks/tutorial-kubernetes-prepare-app)
[41](https://clickup.com/ko/blog/219267/knowledge-management-system)
[42](https://docs.azure.cn/en-us/search/cognitive-search-defining-skillset)
[43](https://uoahvu.tistory.com/entry/GraphRAG-Neo4j-DB%EC%99%80-LangChain-%EA%B2%B0%ED%95%A9%EC%9D%84-%ED%86%B5%ED%95%9C-%EC%A7%88%EC%9D%98%EC%9D%91%EB%8B%B5-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-Kaggle-CSV-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0)
[44](https://www.zendesk.kr/blog/3-best-knowledge-management-examples/)
[45](https://learn.microsoft.com/ko-kr/azure/search/cognitive-search-defining-skillset)
[46](https://aws.amazon.com/ko/blogs/tech/rag-enhanced-searching/)
[47](https://support.zendesk.com/hc/ko/articles/4408821238938-%EB%82%B4%EB%B6%80-%EC%A7%80%EC%8B%9D%EC%B0%BD%EA%B3%A0%EB%A5%BC-%EB%A7%8C%EB%93%A4%EA%B8%B0-%EC%9C%84%ED%95%9C-%EC%84%B1%EA%B3%B5-%EC%82%AC%EB%A1%80)
[48](https://learn.microsoft.com/ko-kr/rest/api/searchservice/create-skillset)
[49](https://www.youtube.com/watch?v=asBBjrbGZNA)
[50](https://www.ibm.com/kr-ko/think/topics/knowledge-management)
[51](https://learn.microsoft.com/ko-kr/azure/search/cognitive-search-working-with-skillsets)
[52](https://james-choi88.tistory.com/?page=2)
[53](https://learn.microsoft.com/ko-kr/azure/search/knowledge-store-create-rest)
[54](https://learn.microsoft.com/ko-kr/azure/search/cognitive-search-skill-document-extraction)
[55](https://store.altair.co.kr/contents/index.html?id=&bu=BI)
[56](http://www.ekais.or.kr/waybbs/download.php?code=thesis&idx=977&fileno=0)